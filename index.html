<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CanvasLite Js</title>
  </head>
  <body>
    <div id="canvas"></div>
    <script src="dist/canvaslite-es6.min.js" charset="utf-8"></script>
    <!-- <script src="dist/fcts-ext-daterange-es6.min.js" charset="utf-8"></script> -->
    <script>
    "use strict";
    var paper = new CanvasLite('canvas', 900, 900);
    var r1 = paper.rect(150,230,100,100,"#9ae","#34f");
    var r2 = paper.rect(50,0,100,100,"#a9e","#3f4");
    var r3 = paper.rect(100,100,200,100,"#ff5690","#345");
    var r4 = paper.rect(0, 0,200,100,"#f0e4a8","#345");
    var r5 = paper.rect(30,100,200,100,"#6e9a4c","#345");
    var r6 = paper.rect(100,30,200,100,"#9bc7ae","#345");
    var r7 = paper.rect(500,500,200,100,"#901e2s","#345");
    var r8 = paper.rect(230,320,200,100,"#47938a","#345");
    var r9 = paper.rect(300,100,200,100,"#2356a4","#345");
    var r10 = paper.rect(40,400,200,100,"#9ea78c","#345");
    var r11 = paper.rect(120,500,200,100,"#249e45","#345");
    var r12 = paper.rect(10,210,200,100,"#129845","#345");
    var r13 = paper.rect(310,310,200,100,"#98ae12","#345");
    var g1 = paper.group();
    g1.add([r4, r3, r13]);

    ((function(){
      var x = 200,
        y = 0,
        height = 500,
        width = 300,
        step = 3,
        goingDown = true;
        r3.attr({x, y, width, height});
      function animateR3() {
        if (goingDown) {
          y += step;
          height -= step;;
          if (height <= 0) {
            goingDown = false;
          }
        } else {
          y -= step;
          height += step;
          if (height >= 500) {
            goingDown = true;
          }
        }
        r3.attr({x, y, width, height});
        if (Math.random() < 0.02) {
          r3.bringFront();
        } else if (Math.random() < 0.05) {
          r3.sendBack();
        }
        requestAnimationFrame(animateR3);
      };
      animateR3();
    })());
    ((function(){
      var x = 0,
        y = 100,
        height = 200,
        width = 500,
        step = 3,
        goingRight = false;
        r2.attr({x, y, width, height});
      function animateR3() {
        if (goingRight) {
          width += step;
          if (width >= 500) {
            goingRight = false;
          }
        } else {
          width -= step;
          if (width <= 0) {
            goingRight = true;
          }
        }
        r2.attr({x, y, width, height});
        requestAnimationFrame(animateR3);
      };
      animateR3();
    })());
    ((function(){
      var x = 400,
        y = 200,
        height = 100,
        width = 100,
        step = 3,
        goingRight = false;
        r4.attr({x, y, width, height});
      function animateR3() {
        if (goingRight) {
          width += step;
          x -= step / 2;
          y -= step / 2;
          height += step;
          if (width >= 400) {
            goingRight = false;
          }
        } else {
          width -= step;
          x += step / 2;
          y += step / 2;
          height -= step;
          if (width <= 50) {
            goingRight = true;
          }
        }
        r4.attr({x, y, width, height});
        requestAnimationFrame(animateR3);
      };
      animateR3();
    })());
    </script>
  </body>
</html>
